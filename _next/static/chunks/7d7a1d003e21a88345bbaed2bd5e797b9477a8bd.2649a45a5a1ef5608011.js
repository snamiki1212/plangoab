(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{"1qrM":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("q1tI"),i=n("/MKj"),c=n("m6k1"),o=function(){var e=Object(i.d)();return{disableConfirmBeforeLeave:Object(r.useCallback)((function(){return e(Object(c.b)())}),[e])}},a=function(){return Object(i.e)(c.c)}},"20a2":function(e,t,n){e.exports=n("nOHt")},"2uID":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=n("/MKj"),c=n("pPeQ"),o=function(){var e=Object(i.d)();return Object(r.useCallback)((function(t){return e(Object(c.b)({storyId:t}))}),[e])},a=function(){return Object(i.e)(c.c)}},"8Fzd":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("nKUr"),i=n("YFqc"),c=n.n(i),o=n("vOnD"),a=n("5I82"),d=n("omt9"),s=n("4QPC"),u=function(){return Object(r.jsxs)(f,{children:[Object(r.jsx)(l,{children:Object(r.jsx)(s.a,{})}),Object(r.jsx)(b,{children:"Plangoab"})]})},l=o.a.div.withConfig({displayName:"LogoWithText__LogoImageContainer",componentId:"a6pi87-0"})(["width:2rem;height:2rem;"]),f=o.a.div.withConfig({displayName:"LogoWithText__LogoContainer",componentId:"a6pi87-1"})(["display:flex;flex-direction:row;align-items:center;"]),b=o.a.span.withConfig({displayName:"LogoWithText__LogoText",componentId:"a6pi87-2"})(["font-size:1rem;font-weight:600;font-family:var(--font-design1);color:var(--color-logo);"]),j=n("Yoft"),v=n("K7/j"),p=n("Eki9"),O=n("CE0j");function h(e){var t=e.renderAbout,n=void 0===t||t,i=e.renderHowTo,o=void 0===i||i,a=Object(p.a)(),s=a.isOpen,l=a.open,f=a.close,b=Object(O.a)().open;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(x,{children:[Object(r.jsx)(c.a,{href:d.a.HOME,children:Object(r.jsx)("a",{style:{textDecoration:"none"},children:Object(r.jsx)(u,{})})}),Object(r.jsxs)(I,{children:[o&&Object(r.jsx)(y,{onClick:b,children:"\ud83d\udca1HowTo"}),n&&Object(r.jsx)(y,{onClick:l,children:"\u2708\ufe0fAbout"})]})]}),Object(r.jsx)(j.a,{isOpen:s,onClose:f}),Object(r.jsx)(v.a,{})]})}var x=o.a.div.withConfig({displayName:"AppHeader__Container",componentId:"huahve-0"})(["display:flex;flex-direction:row;justify-content:space-between;height:2rem;"]),I=o.a.div.withConfig({displayName:"AppHeader__ButtonContainer",componentId:"huahve-1"})(["margin-left:auto;display:grid;gap:1rem;grid-template-columns:1fr 1fr;"]),y=Object(o.a)(a.a).withConfig({displayName:"AppHeader__SButton",componentId:"huahve-2"})(["&&{text-transform:none;font-weight:900;font-family:var(--font-header1);padding:0;}"])},CKvz:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n("h5xD"),i=r.a.useFetchCalendarsQuery,c=r.a.useCreateCalendarMutation,o=r.a.useFetchCalendarQuery},KtTR:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),i=n("20a2"),c=n("1qrM"),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(i.useRouter)(),o=Object(c.a)(),a=o.disableConfirmBeforeLeave,d=Object(r.useCallback)((function(){t||a(),n.push(e)}),[n,a,t,e]);return d}},OhjH:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n("2uID"),c=n("hyEI"),o=n("tLXD"),a=n("L44U"),d=function(){var e=Object(c.a)(),t=Object(a.a)().stories,n=Object(o.a)(t.length),r=e&&n!==t.length;u(r)},s=function(e){u(e)},u=function(e){var t=Object(i.b)(),n=Object(a.a)().stories,c=n.length>0;Object(r.useEffect)((function(){c&&e&&t(n[n.length-1].id)}),[n,e,c])}},a1lw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("q1tI"),i=n("/MKj"),c=n("qYIz"),o=function(){var e=Object(i.d)();return Object(r.useCallback)((function(){return e(Object(c.c)())}),[e])},a=function(){return Object(i.e)(c.b)}},hyEI:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("q1tI"),i=n("/MKj"),c=n("weIJ"),o=function(){var e=Object(i.d)(),t=Object(r.useCallback)((function(){return e(Object(c.d)({}))}),[e]),n=Object(r.useCallback)((function(){return e(Object(c.a)({}))}),[e]),o=Object(r.useCallback)((function(t){return e(Object(c.c)({stepIdx:t}))}),[e]);return{next:t,back:n,gotoSelectionTemplate:Object(r.useCallback)((function(){return o(1)}),[o])}},a=function(){return Object(i.e)(c.g)},d=function(){return Object(i.e)(c.e)}},i4vb:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("cpVT"),i=n("nKUr"),c=(n("q1tI"),n("uf0I")),o=n("eYnI"),a=n("ogxq"),d=n("oWA7"),s=n("vOnD"),u=n("vH+6"),l=function(e){var t,n,r=null!==(t=e.event.title)&&void 0!==t?t:"",c=null!==(n=e.event.extendedProps.description)&&void 0!==n?n:r;return""===c?Object(i.jsx)(f,{children:r}):Object(i.jsx)(u.a,{title:Object(i.jsx)(b,{children:c}),children:Object(i.jsx)(f,{children:r})})},f=s.a.span.withConfig({displayName:"eventContent__Text",componentId:"sc-1f5jq5x-0"})(["color:var(--color-light1);font-family:var(--font-text1);"]),b=Object(s.a)(f).withConfig({displayName:"eventContent__Title",componentId:"sc-1f5jq5x-1"})(["white-space:pre-line;"]);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={height:"100%",resourceAreaWidth:"250px"};function O(e){return Object(i.jsx)(c.a,v(v(v(v({},p),d.d),{},{plugins:[a.a,o.a]},e),{},{eventContent:l}))}},m6k1:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n("i7Pf"),i=Object(r.d)({name:"v2/ui/navigation",initialState:{isConfirmBeforeLeave:!0},reducers:{disableConfirmBeforeLeave:function(e){e.isConfirmBeforeLeave=!1}}}),c=function(e){return e.v2.ui.navigation.isConfirmBeforeLeave},o=i.actions.disableConfirmBeforeLeave;t.a=i.reducer},pPeQ:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return d}));var r=n("i7Pf"),i={store:{selectedStoryId:void 0}},c=Object(r.d)({name:"v2/features/selectedTab",initialState:i,reducers:{reset:function(){return i},select:function(e,t){e.store.selectedStoryId=t.payload.storyId}}}),o=function(e){return e.v2.features.selectedTab.store.selectedStoryId},a=c.actions,d=(a.reset,a.select);t.a=c.reducer},"t5+4":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("nKUr"),i=n("vOnD"),c=function(e){var t=e.header,n=e.body;return Object(r.jsxs)(o,{children:[Object(r.jsx)("div",{children:t}),Object(r.jsx)("div",{children:n})]})},o=i.a.div.withConfig({displayName:"CalendarUpsertLayout__Container",componentId:"sc-1x8zomy-0"})(["padding:0.5rem;display:flex;flex-direction:column;gap:0.5rem;"])},tLXD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function i(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}},weIJ:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return b}));var r=n("i7Pf"),i={0:"INPUT_BIRTHDAY",1:"SELECT_TEMPLATE",2:"SHOW_CALENDAR"},c={step:{stepIdx:0,isFinished:!1}},o=Object(r.d)({name:"v2/ui/step",initialState:c,reducers:{reset:function(){return c},goto:function(e,t){var n=t.payload;n.stepIdx>=2||n.stepIdx<=0||(e.step.stepIdx=n.stepIdx)},next:function(e,t){e.step.stepIdx>=2||(e.step.stepIdx+=1,2===e.step.stepIdx&&(e.step.isFinished=!0))},back:function(e,t){e.step.stepIdx<=0||(e.step.stepIdx-=1)}}}),a=function(e){return e.v2.ui.step.step.stepIdx},d=function(e){return i[a(e)]},s=function(e){return e.v2.ui.step.step.isFinished},u=o.actions,l=(u.reset,u.goto),f=u.next,b=u.back;t.b=o.reducer},yDZl:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n("nKUr"),i=n("vOnD"),c=n("NZDO"),o=n("xvhg"),a=n("q1tI"),d=n.n(a),s=n("ADto"),u=n("i4vb"),l=n("2uID"),f=n("20a2"),b=function(){return void 0==Object(f.useRouter)().query.id},j=n("EKVt"),v=n("L44U"),p=(n("Qd5N"),n("qPse")),O=n("9mVn"),h={left:"",center:"",right:""};function x(){Object(a.useEffect)((function(){setTimeout((function(){for(var e=document.querySelectorAll(".fc-header-toolbar"),t=0;t<e.length;t++)e[t].style&&(e[t].style.display="none")}),100)}),[]);var e=b(),t=function(e){var t=Object(v.a)().select,n=Object(a.useCallback)((function(){}),[]);return e?t:n}(e),n=function(e){var t=Object(j.a)().updateById;return d.a.useCallback((function(n){var r,i;if(e){if(!n.event||!n.event.extendedProps)return console.error("Invalid data. cannot find event data.");var c=null===(r=n.event.extendedProps)||void 0===r?void 0:r.calendarId,a=null===(i=n.event.extendedProps)||void 0===i?void 0:i.storyId,d=n.event.id;if(!c)return console.error("Invalid data. Cannot find calendarId in extendedProps");if(!a)return console.error("Invalid data. Cannot find storyId in extendedProps");if(!d)return console.error("Invalid data. Cannot find eventId");var u=Object(s.c)(n.event.start,n.event.end),l=Object(o.a)(u,2),f=l[0],b=l[1];t({calendarId:c,storyId:a,eventId:d},{start:f,end:b})}}),[t,e])}(e),i=function(e){var t=Object(O.a)().push;return d.a.useCallback((function(n){if(e){var r=n.event.extendedProps.calendarId;if(!r)return console.warn("Invalid data. cannot find calendarId.");var i=n.event.id;if(!i)return console.warn("Invalid data. cannot find eventId.");var c=n.event.extendedProps.storyId;if(!c)return console.warn("Invalid data. cannot find storyId.");t({calendarId:r,eventId:i,storyId:c})}}),[t,e])}(e),c=function(){var e=Object(l.a)(),t=Object(v.a)().stories;return Object(a.useMemo)((function(){var n,r,i=t.find((function(t){return t.id===e}));return[null!==(n=null===i||void 0===i?void 0:i.events)&&void 0!==n?n:[],null!==(r=null===i||void 0===i?void 0:i.resources)&&void 0!==r?r:[]]}),[t,e])}(),f=Object(o.a)(c,2),p=f[0],x=f[1];return Object(r.jsx)(u.a,{events:p,resources:x,eventClick:i,selectable:e,select:t,editable:e,eventResize:n,eventDrop:n,initialDate:"2020-06-01",headerToolbar:h,resourcesInitiallyExpanded:!0,resourceGroupField:void 0})}var I=function(e){var t=e.title,n=e.selected,i=void 0!==n&&n,c=e.onClick,o=void 0===c?function(){}:c;return Object(r.jsx)(y,{selected:i,onClick:o,children:t})},y=i.a.div.withConfig({displayName:"CalendarTab__Container",componentId:"sc-1agbbjy-0"})(["border-radius:0.5rem 0.5rem 0px 0px;background-color:",";padding:0.2rem 1.2rem;font-family:var(--font-text1);font-weight:700;transition:0.5s;&:hover{transition:0.5s;background-color:lightcyan;cursor:pointer;}"],(function(e){return e.selected?"lightgray":"#f2f2f2"})),m=n("TcSc"),C=function(e){var t=e.story,n=e.canEdit,i=Object(l.b)(),c=Object(l.a)(),o=t.id===c,d=Object(a.useCallback)((function(){return i(t.id)}),[i,t]),s=function(e){var t=Object(p.a)().push,n=e.id,r=e.calendarId;return Object(a.useCallback)((function(){t({calendarId:r,storyId:n})}),[t,r,n])}(t),u=function(e){var t=Object(m.a)().remove;return Object(a.useCallback)((function(){if(!e)return console.warn("Invalid data status when to update resource.");t({storyId:e.id,calendarId:e.calendarId})}),[t])}(t);return Object(r.jsx)(_,{children:Object(r.jsx)(I,{title:Object(r.jsxs)(g,{children:[n&&Object(r.jsx)(w,{onClick:s,children:"\u2630"}),t.name,n&&Object(r.jsx)(w,{onClick:u,children:"\xd7"})]}),selected:o,onClick:d})})},g=i.a.div.withConfig({displayName:"UserCalendarTab__Inner",componentId:"y1gyxf-0"})(["justify-content:space-between;display:flex;flex-direction:row;gap:0.7rem;"]),w=i.a.div.withConfig({displayName:"UserCalendarTab__Icon",componentId:"y1gyxf-1"})(["font-size:1rem;font-weight:200;border-radius:100%;transition:0.3s;&:hover{transition:0.3s;background-color:lightblue;}"]),_=i.a.div.withConfig({displayName:"UserCalendarTab__Container",componentId:"y1gyxf-2"})(["display:flex;flex-direction:row;"]),k=n("hyEI"),T=function(){var e=Object(k.c)().gotoSelectionTemplate;return Object(r.jsx)(I,{title:"+",selected:!1,onClick:e})},E=function(e){var t=e.canEdit,n=Object(v.a)().stories;return Object(r.jsxs)(P,{children:[n.map((function(e){return Object(r.jsx)(C,{story:e,canEdit:t},e.id)})),t&&Object(r.jsx)(T,{})]})},P=i.a.div.withConfig({displayName:"UserCalendarTabsList__Container",componentId:"b1ydhx-0"})(["display:flex;flex-direction:row;gap:0.2rem;"]),N=n("a1lw"),D=function(){var e=Object(N.a)();return Object(r.jsx)(I,{title:"\ud83d\udce9 Save",onClick:e})},L=n("KtTR"),q=n("omt9"),S=function(){var e=Object(L.a)(q.a.CALENDARS__NEW);return Object(r.jsx)(I,{title:"+ New Calendar",onClick:e})},A=function(){var e=b();return Object(r.jsxs)(U,{children:[Object(r.jsx)(E,{canEdit:e}),e?Object(r.jsx)(D,{}):Object(r.jsx)(S,{})]})},U=i.a.div.withConfig({displayName:"UserCalendarTabSection__Container",componentId:"sc-1aes88v-0"})(["display:flex;justify-content:space-between;"]),K=n("YUA6"),H=n("H8yG");function B(){var e=Object(p.a)(),t=e.pop,n=e.isOpen,i=Object(O.a)(),o=i.pop,a=i.isOpen;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.a,{style:{height:"90vh"},children:Object(r.jsxs)(F,{children:[Object(r.jsx)(A,{}),Object(r.jsx)(x,{})]})}),Object(r.jsx)(K.a,{isOpen:n,onClose:t}),Object(r.jsx)(H.a,{isOpen:a,onClose:o})]})}var F=i.a.div.withConfig({displayName:"UserCalendarSection__CalendarContainer",componentId:"sc-16simbk-0"})(["height:100%;"])}}]);