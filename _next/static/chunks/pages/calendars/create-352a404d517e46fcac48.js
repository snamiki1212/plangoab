_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{"0O83":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/calendars/create",function(){return n("D04e")}])},"20a2":function(e,t,n){e.exports=n("nOHt")},D04e:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),o=n("q1tI"),i=n.n(o),c=n("/MKj"),a=n("weIJ"),s=function(){var e=Object(c.d)(),t=Object(o.useCallback)((function(){return e(Object(a.d)({}))}),[e]),n=Object(o.useCallback)((function(){return e(Object(a.a)({}))}),[e]),r=Object(o.useCallback)((function(t){return e(Object(a.c)({stepIdx:t}))}),[e]);return{next:t,back:n,gotoSelectionTemplate:Object(o.useCallback)((function(){return r(1)}),[r])}},d=function(){return Object(c.e)(a.e)},l=n("vOnD"),u=n("NZDO"),b=n("xvhg"),j=n("ADto"),f=n("cpVT"),O=n("uf0I"),p=n("eYnI"),v=n("ogxq"),h=n("oWA7"),x=n("vH+6"),g=function(e){var t,n,o=null!==(t=e.event.title)&&void 0!==t?t:"",i=null!==(n=e.event.extendedProps.description)&&void 0!==n?n:o;return""===i?Object(r.jsx)(y,{children:o}):Object(r.jsx)(x.a,{title:Object(r.jsx)(C,{children:i}),children:Object(r.jsx)(y,{children:o})})},y=l.a.span.withConfig({displayName:"eventContent__Text",componentId:"nvhrhw-0"})(["color:var(--color-light1);font-family:var(--font-text1);"]),C=Object(l.a)(y).withConfig({displayName:"eventContent__Title",componentId:"nvhrhw-1"})(["white-space:pre-line;"]);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={height:"100%",resourceAreaWidth:"250px"};function k(e){return Object(r.jsx)(O.a,I(I(I(I({},w),h.d),{},{plugins:[v.a,p.a]},e),{},{eventContent:g}))}var _=n("pPeQ"),P=function(){var e=Object(c.d)();return Object(o.useCallback)((function(t){return e(Object(_.b)({storyId:t}))}),[e])},T=function(){return Object(c.e)(_.c)},E=n("EKVt"),S=n("L44U"),N=n("Qd5N"),D=n("qPse"),L=n("9mVn"),A={left:"",center:"",right:""};function F(){Object(o.useEffect)((function(){setTimeout((function(){for(var e=document.querySelectorAll(".fc-header-toolbar"),t=0;t<e.length;t++)e[t].style&&(e[t].style.display="none")}),100)}),[]);var e=T(),t=Object(S.a)(),n=t.stories,c=t.select,a=(function(){var e=Object(D.a)().push,t=i.a.useCallback((function(t){return function(){e(t)}}),[e]);Object(N.a)({createOpenHandle:t}).resourceGroupLabelContent}(),function(){var e=Object(E.a)().updateById;return i.a.useCallback((function(t){var n,r;if(!t.event||!t.event.extendedProps)return console.error("Invalid data. cannot find event data.");var o=null===(n=t.event.extendedProps)||void 0===n?void 0:n.calendarId,i=null===(r=t.event.extendedProps)||void 0===r?void 0:r.storyId,c=t.event.id;if(!o)return console.error("Invalid data. Cannot find calendarId in extendedProps");if(!i)return console.error("Invalid data. Cannot find storyId in extendedProps");if(!c)return console.error("Invalid data. Cannot find eventId");var a=Object(j.c)(t.event.start,t.event.end),s=Object(b.a)(a,2),d=s[0],l=s[1];e({calendarId:o,storyId:i,eventId:c},{start:d,end:l})}),[e])}()),s=function(){var e=Object(L.a)().push;return i.a.useCallback((function(t){var n=t.event.extendedProps.calendarId;if(!n)return console.warn("Invalid data. cannot find calendarId.");var r=t.event.id;if(!r)return console.warn("Invalid data. cannot find eventId.");var o=t.event.extendedProps.storyId;if(!o)return console.warn("Invalid data. cannot find storyId.");e({calendarId:n,eventId:r,storyId:o})}),[e])}(),d=Object(o.useMemo)((function(){var t,r,o=n.find((function(t){return t.id===e}));return[null!==(t=null===o||void 0===o?void 0:o.events)&&void 0!==t?t:[],null!==(r=null===o||void 0===o?void 0:o.resources)&&void 0!==r?r:[]]}),[n,e]),l=d[0],u=d[1];return Object(r.jsx)(k,{events:l,resources:u,eventClick:s,selectable:!0,select:c,editable:!0,eventResize:a,eventDrop:a,initialDate:"2020-06-01",headerToolbar:A,resourcesInitiallyExpanded:!0,resourceGroupField:void 0})}var W=function(){var e=d(),t=Object(S.a)().stories,n=P(),r=function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e})),t.current}(t.length),i=e&&0!==t.length&&r!==t.length;Object(o.useEffect)((function(){i&&n(t[t.length-1].id)}),[t,i])},H=function(e){var t=e.title,n=e.selected,o=void 0!==n&&n,i=e.onClick,c=void 0===i?function(){}:i;return Object(r.jsx)(U,{selected:o,onClick:c,children:t})},U=l.a.div.withConfig({displayName:"CalendarTab__Container",componentId:"ys6u0s-0"})(["border-radius:0.5rem 0.5rem 0px 0px;background-color:",";padding:0.2rem 1.2rem;font-family:var(--font-text1);font-weight:700;transition:0.5s;&:hover{transition:0.5s;background-color:lightblue;cursor:pointer;}"],(function(e){return e.selected?"gray":"#eeeeee"})),M=n("TcSc"),B=function(e){var t=e.story,n=P(),i=T(),c=t.id===i,a=Object(o.useCallback)((function(){return n(t.id)}),[n,t]),s=function(e){var t=Object(D.a)().push,n=e.id,r=e.calendarId;return Object(o.useCallback)((function(){t({calendarId:r,storyId:n})}),[t,r,n])}(t),d=function(e){var t=Object(M.a)().remove;return Object(o.useCallback)((function(){if(!e)return console.warn("Invalid data status when to update resource.");t({storyId:e.id,calendarId:e.calendarId})}),[t])}(t);return Object(r.jsx)(R,{children:Object(r.jsx)(H,{title:Object(r.jsxs)(q,{children:[t.name,Object(r.jsxs)(K,{children:[Object(r.jsx)(G,{onClick:s,children:"\ud83d\udcdd"}),Object(r.jsx)(G,{onClick:d,children:"\xd7"})]})]}),selected:c,onClick:a})})},K=l.a.div.withConfig({displayName:"UserCalendarTab__Flex",componentId:"sc-12ku0fa-0"})(["display:flex;flex-direction:row;gap:0.4rem;"]),q=Object(l.a)(K).withConfig({displayName:"UserCalendarTab__Inner",componentId:"sc-12ku0fa-1"})(["justify-content:space-between;gap:1rem;"]),G=l.a.div.withConfig({displayName:"UserCalendarTab__Icon",componentId:"sc-12ku0fa-2"})(["font-size:1rem;font-weight:200;border-radius:100%;transition:0.3s;&:hover{transition:0.3s;background-color:lightgray;}"]),R=l.a.div.withConfig({displayName:"UserCalendarTab__Container",componentId:"sc-12ku0fa-3"})(["display:flex;flex-direction:row;"]),V=function(){var e=s().gotoSelectionTemplate;return Object(r.jsx)("div",{onClick:e,children:Object(r.jsx)(H,{title:"+",selected:!1})})},Y=function(){W();var e=Object(S.a)().stories;return Object(r.jsxs)(z,{children:[e.map((function(e){return Object(r.jsx)(B,{story:e})})),Object(r.jsx)(V,{})]})},z=l.a.div.withConfig({displayName:"UserCalendarTabsList__Container",componentId:"um8xax-0"})(["display:flex;flex-direction:row;gap:0.2rem;"]),J=n("qYIz"),Q=function(){var e=Object(c.d)();return Object(o.useCallback)((function(){return e(Object(J.c)())}),[e])},Z=function(){var e=Q();return Object(r.jsx)("div",{onClick:e,children:Object(r.jsx)(H,{title:"Save"})})},X=function(){return Object(r.jsxs)($,{children:[Object(r.jsx)(Y,{}),Object(r.jsx)(Z,{})]})},$=l.a.div.withConfig({displayName:"UserCalendarTabSection__Container",componentId:"sc-1o7q0ub-0"})(["display:flex;justify-content:space-between;"]),ee=n("YUA6"),te=n("H8yG");function ne(){var e=Object(D.a)(),t=e.pop,n=e.isOpen,o=Object(L.a)(),i=o.pop,c=o.isOpen;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.a,{style:{height:"90vh"},children:Object(r.jsxs)(re,{children:[Object(r.jsx)(X,{}),Object(r.jsx)(F,{})]})}),Object(r.jsx)(ee.a,{isOpen:n,onClose:t}),Object(r.jsx)(te.a,{isOpen:c,onClose:i})]})}var re=l.a.div.withConfig({displayName:"UserCalendarSection__CalendarContainer",componentId:"sc-5aynpi-0"})(["height:100%;"]),oe=function(e){var t=e.header,n=e.body;return Object(r.jsxs)(ie,{children:[Object(r.jsx)("div",{children:t}),Object(r.jsx)("div",{children:n})]})},ie=l.a.div.withConfig({displayName:"CalendarNewLayout__Container",componentId:"sc-1jlyplw-0"})(["padding:0.5rem;display:flex;flex-direction:column;gap:0.5rem;"]),ce=n("YFqc"),ae=n.n(ce),se=n("5I82"),de=n("omt9"),le=n("4QPC"),ue=function(){return Object(r.jsxs)(je,{children:[Object(r.jsx)(be,{children:Object(r.jsx)(le.a,{})}),Object(r.jsx)(fe,{children:"Plangoab"})]})},be=l.a.div.withConfig({displayName:"LogoWithText__LogoImageContainer",componentId:"sc-10uitsg-0"})(["width:2rem;height:2rem;"]),je=l.a.div.withConfig({displayName:"LogoWithText__LogoContainer",componentId:"sc-10uitsg-1"})(["display:flex;flex-direction:row;align-items:center;"]),fe=l.a.span.withConfig({displayName:"LogoWithText__LogoText",componentId:"sc-10uitsg-2"})(["font-size:1rem;font-weight:600;font-family:var(--font-design1);color:var(--color-logo);"]),Oe=n("Yoft"),pe=n("K7/j"),ve=n("Eki9"),he=n("CE0j");function xe(e){var t=e.renderAbout,n=void 0===t||t,o=e.renderHowTo,i=void 0===o||o,c=Object(ve.a)(),a=c.isOpen,s=c.open,d=c.close,l=Object(he.a)().open;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ge,{children:[Object(r.jsx)(ae.a,{href:de.a.HOME,children:Object(r.jsx)("a",{style:{textDecoration:"none"},children:Object(r.jsx)(ue,{})})}),Object(r.jsxs)(ye,{children:[i&&Object(r.jsx)(Ce,{onClick:l,children:"\ud83d\udca1HowTo"}),n&&Object(r.jsx)(Ce,{onClick:s,children:"\u2708\ufe0fAbout"})]})]}),Object(r.jsx)(Oe.a,{isOpen:a,onClose:d}),Object(r.jsx)(pe.a,{})]})}var ge=l.a.div.withConfig({displayName:"AppHeader__Container",componentId:"vrrxs4-0"})(["display:flex;flex-direction:row;justify-content:space-between;height:2rem;"]),ye=l.a.div.withConfig({displayName:"AppHeader__ButtonContainer",componentId:"vrrxs4-1"})(["margin-left:auto;display:grid;gap:1rem;grid-template-columns:1fr 1fr;"]),Ce=Object(l.a)(se.a).withConfig({displayName:"AppHeader__SButton",componentId:"vrrxs4-2"})(["&&{text-transform:none;font-weight:900;font-family:var(--font-header1);padding:0;}"]),me=n("umvS"),Ie=n("u6KC"),we=n("lZ7h"),ke=n("G43+"),_e=n("K2Mj"),Pe=n("PTIM");function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se={selectable:!1,editable:!1,resourcesInitiallyExpanded:!1},Ne={left:"".concat(Pe.a),center:"",right:"prev,next"};function De(e){var t=Object(M.a)().create,n=s().next,o=i.a.useCallback((function(e){var r=e.story,o=e.calendarId;return function(){window.confirm("Do you copy this story to My Calendar?")&&(t({calendarId:o},r),n())}}),[t,n]),c=Object(_e.a)({createClickHandel:o}).resourceGroupLabelContent;return Object(r.jsx)(k,Ee(Ee({},e),{},{initialDate:"2020-06-01",resourceGroupLabelContent:c,headerToolbar:Ne},Se))}var Le=n("90MW"),Ae=n("ACli"),Fe=n("U3bv"),We=n("ouKV");function He(){var e=Object(Ae.a)().birth,t=Object(Le.a)(),n=t.resources,o=t.events,c=t.generate,a=Object(Fe.a)(),s=a.options,d=a.withWorkingholiday,l=Object(Pe.b)(),u=l.customButtons,b=l.close,j=l.isOpen;return i.a.useEffect((function(){c({birth:e,canWorkingholiday:d,options:s})}),[c,e,d,s]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(De,{events:o,resources:n,customButtons:u}),Object(r.jsx)(We.a,{onClose:b,isOpen:j})]})}var Ue=n("FZVo");function Me(){var e=Object(Ae.a)().birth,t=Object(Ue.a)(),n=t.resources,o=t.events,c=t.generate,a=Object(Fe.a)(),s=a.options,d=a.withWorkingholiday,l=Object(Pe.b)(),u=l.customButtons,b=l.close,j=l.isOpen;return i.a.useEffect((function(){c({birth:e,canWorkingholiday:d,options:s})}),[c,e,d,s]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(De,{events:o,resources:n,customButtons:u}),Object(r.jsx)(We.a,{onClose:b,isOpen:j})]})}function Be(e){var t=e.shouldShow,n=e.children;return Object(r.jsx)("div",{role:"tabpanel",style:{display:t?"block":"none",padding:"1rem"},children:n})}function Ke(){var e=i.a.useState(0),t=Object(b.a)(e,2),n=t[0],o=t[1],c=i.a.useCallback((function(e,t){o(t)}),[]);return Object(r.jsxs)(ke.a,{elevation:8,children:[Object(r.jsxs)(Ie.a,{value:n,onChange:c,textColor:"primary",indicatorColor:"primary",children:[Object(r.jsx)(we.a,{icon:Object(r.jsx)(qe,{children:"\ud83c\udfeb"}),label:"Private College",style:{textTransform:"none",fontFamily:"var(--font-text1)",fontWeight:900}}),Object(r.jsx)(we.a,{icon:Object(r.jsx)(qe,{children:"\ud83c\udf93"}),label:"Public College",style:{textTransform:"none",fontFamily:"var(--font-text1)",fontWeight:900}})]}),Object(r.jsx)(Be,{shouldShow:0===n,children:Object(r.jsx)("div",{style:{height:"75vh"},children:Object(r.jsx)(He,{})})}),Object(r.jsx)(Be,{shouldShow:1===n,children:Object(r.jsx)("div",{style:{height:"75vh"},children:Object(r.jsx)(Me,{})})})]})}var qe=l.a.span.withConfig({displayName:"CollegeCalendarSection__Icon",componentId:"sc-1a0nrkf-0"})(["font-size:2rem;"]),Ge=function(e){var t=e.isOpen,n=e.onClose;return Object(r.jsx)(me.a,{open:t,fullWidth:!0,maxWidth:"xl",onClose:n,children:Object(r.jsx)(Ke,{})})},Re=n("prPD"),Ve=function(e){var t=e.onFinish,n=e.isOpen,i=Object(S.a)().init,c=Object(Ae.a)(),a=c.birth,s=c.setBirth,d=Object(Fe.a)().options,l=Object(o.useMemo)((function(){return d.workingholidayPeriod}),[d.workingholidayPeriod]),u=Object(o.useCallback)((function(){i({birthday:a,workingholidayPeriod:l}),t()}),[t,i,a,l]),b=Object(o.useCallback)((function(e){e&&s(e.toISOString())}),[s]);return Object(r.jsx)(Re.a,{birthday:a,isOpen:n,onFinish:u,onDateChange:b})},Ye=n("9C6W"),ze=n("GVSF"),Je=n("h5xD"),Qe=function(e){return e.filter((function(e){return!(e.id===h.i)})).map((function(e){return Ze(e)}))},Ze=function(e){var t=Xe(e.resources,e.events);return{id:e.id,title:e.name,resources:t}},Xe=function(e,t){return e.map((function(e){var n,r=t.filter((function(t){return t.resourceId===e.id})),o=$e(r);return{id:e.id,title:e.FIELD,order:null!==(n=e.order)&&void 0!==n?n:0,events:o}}))},$e=function(e){return e.map((function(e){return et(e)}))},et=function(e){var t,n;return{id:e.id,title:e.title,description:null!==(t=null===(n=e.extendedProps)||void 0===n?void 0:n.description)&&void 0!==t?t:"",startedAt:e.start,endedAt:e.end,backgroundColor:e.backgroundColor}},tt=function(){var e=Object(S.a)().stories,t=Object(Ae.a)().birth,n=function(e){var t=Qe(e.stories);return{id:e.id,stories:t}}({id:Object(o.useMemo)((function(){return Object(Ye.a)()}),[]),stories:e}),r=Object(Je.b)(),i=Object(b.a)(r,2),c=i[0];i[1].isLoading;return Object(o.useCallback)((function(){return c({calendar:n,birthday:t,licenseKey:h.g})}),[c,n,t])},nt=function(){var e=Q(),t=Object(c.e)(J.b),n=tt(),i=Object(o.useCallback)((function(){n(),e()}),[n,e]);return Object(r.jsx)(me.a,{onClose:e,open:t,children:Object(r.jsxs)(ze.a,{children:[Object(r.jsx)(se.a,{onClick:e,variant:"outlined",children:"<< Close"}),Object(r.jsx)(se.a,{onClick:i,variant:"outlined",children:"Save"})]})})},rt=n("20a2"),ot=n.n(rt);var it=function(e,t){void 0===e&&(e=!0);var n=Object(o.useCallback)((function(n){if("function"!==typeof e||e())return n.preventDefault(),t&&(n.returnValue=t),t}),[e,t]);Object(o.useEffect)((function(){if(e)return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(window,"beforeunload",n),function(){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(window,"beforeunload",n)}}),[e,n])};function ct(){!function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Are you sure want to leave this page?";it(e,t),Object(o.useEffect)((function(){var n=function(){if(e&&!window.confirm(t))throw"Route Canceled"};return ot.a.events.on("routeChangeStart",n),function(){ot.a.events.off("routeChangeStart",n)}}),[e,t])}();var e=d(),t=s().next,n=Object(c.e)(a.g),i=e||"SHOW_CALENDAR"===n,l="INPUT_BIRTHDAY"===n,u="SELECT_TEMPLATE"===n,b=Object(o.useCallback)((function(){e&&t()}),[t,e]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ve,{isOpen:l,onFinish:t}),Object(r.jsx)(Ge,{isOpen:u,onClose:b}),i&&Object(r.jsx)(oe,{header:Object(r.jsx)(xe,{}),body:Object(r.jsx)(ne,{})}),Object(r.jsx)(nt,{})]})}t.default=function(){return Object(r.jsx)(ct,{})}},pPeQ:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("i7Pf"),o={store:{selectedStoryId:void 0}},i=Object(r.d)({name:"v2/features/selectedTab",initialState:o,reducers:{reset:function(){return o},select:function(e,t){e.store.selectedStoryId=t.payload.storyId}}}),c=function(e){return e.v2.features.selectedTab.store.selectedStoryId},a=i.actions,s=(a.reset,a.select);t.a=i.reducer},weIJ:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return j}));var r=n("i7Pf"),o={0:"INPUT_BIRTHDAY",1:"SELECT_TEMPLATE",2:"SHOW_CALENDAR"},i={step:{stepIdx:0,isFinished:!1}},c=Object(r.d)({name:"v2/ui/step",initialState:i,reducers:{reset:function(){return i},goto:function(e,t){var n=t.payload;n.stepIdx>=2||n.stepIdx<=0||(e.step.stepIdx=n.stepIdx)},next:function(e,t){e.step.stepIdx>=2||(e.step.stepIdx+=1,2===e.step.stepIdx&&(e.step.isFinished=!0))},back:function(e,t){e.step.stepIdx<=0||(e.step.stepIdx-=1)}}}),a=function(e){return e.v2.ui.step.step.stepIdx},s=function(e){return o[a(e)]},d=function(e){return e.v2.ui.step.step.isFinished},l=c.actions,u=(l.reset,l.goto),b=l.next,j=l.back;t.b=c.reducer}},[["0O83",0,2,6,8,1,3,4,5,7,9,10,11]]]);